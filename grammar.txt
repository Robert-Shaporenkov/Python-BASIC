* = 0 or more
? = optional

expr            :  KEYWORD:var IDENTIFIER EQ expr
                :  comp_expr ((KEYWORD:and|KEYWORD:or) comp_expr)*

comp_expr       :  KEYWORD:not comp_expr
                :  arith_expr ((EE_LT_GT_LTE_GTE) arith_expr)*
                
arith_expr      :  term ((PLUS|MINUS) term)*

term            :  factor((MUL|DIV) factor)*

factor          :  (PLUS|MINUS) factor
                :  power

power           :  call (POW factor)*

call            :  atom (LPAREN (expr (COMMA expr)*)? RPAREN)?

atom            :  INT|FLOAT|IDENTIFIER
                :  LPAREN expr RPAREN
                :  if_expr
                :  for_expr
                :  while_expr
                :  func_def
            
if_expr         :  KEYWORD:if expr KEYWORD:then expr
                   (KEYWORD:elif expr KEYWORD:then expr)*
                   (KEYWORD:else expr)?

for_expr        :  KEYWORD:for identifier EQ expr KEYWORD:TO expr
                   (KEYWORD:step expr)? KEYWORD:then expr

while_expr      :  KEYWORD:while expr KEYWORD:then expr

func_def        :  KEYWORD:func IDENTIFIER?
                   LPAREN (IDENTIFIER (COMMA IDENTIFIER)*)? RPAREN
                   ARROW expr